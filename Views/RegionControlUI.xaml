<UserControl x:Class="taskmaker_wpf.Views.RegionControlUI"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:taskmaker_wpf.Views"
             xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:viewmodels="clr-namespace:taskmaker_wpf.ViewModels"
             xmlns:w ="clr-namespace:taskmaker_wpf.Views.Widget"
             d:DataContext="{d:DesignInstance Type=viewmodels:RegionControlUIViewModel}"
             xmlns:data="clr-namespace:taskmaker_wpf.Model.Data"
             mc:Ignorable="d"
             prism:ViewModelLocator.AutoWireViewModel="True"
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.InputBindings>
    </UserControl.InputBindings>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="20"/>
        </Grid.RowDefinitions>

        <DockPanel
            LastChildFill="True"
            Grid.Row="0">
            <TabControl
                DockPanel.Dock="Right"
                Width="250">
                <TabItem
                    Header="ControlUi" >
                    <ScrollViewer
                        VerticalScrollBarVisibility="Hidden"
                        >
                        <StackPanel
                            Margin="10"
                            Orientation="Vertical">
                            <Expander
                                BorderBrush="{x:Static SystemColors.ActiveBorderBrush}"
                                BorderThickness="1"
                                Header="Maps"
                                >
                                <StackPanel
                                    Orientation="Vertical"
                                    >
                                    <Button
                                        Margin="4"
                                        Command="{Binding AddUiCommand}">
                                        <Button.Content>
                                            <Image Source="/icons/add_FILL0_wght400_GRAD0_opsz48.png" Width="16" Height="16"/>
                                        </Button.Content>
                                    </Button>
                                    <ListBox
                                        MinHeight="20"
                                        Margin="4"
                                        ItemsSource="{Binding UiStates}"
                                        />
                                </StackPanel>

                            </Expander>
                        
                        </StackPanel>
                    </ScrollViewer>

                </TabItem>
                <TabItem
                    Header="Map">
                    <ScrollViewer
                        VerticalScrollBarVisibility="Hidden"
                        >
                        <local:TargetsPanel />
                        
                    </ScrollViewer>
                </TabItem>

            </TabControl>
            <Grid
                DockPanel.Dock="Left">
                <w:MultiView
                    Focusable="True"
                    Width="auto"
                    MaxColumnCount="2"
                    ItemsSource="{Binding SelectedUiStates}"
                    BindCommand="{Binding BindCommand}"
                    />
            </Grid>
        </DockPanel>



        <StackPanel
            x:Name="statusBar"
            Orientation="Horizontal"
            HorizontalAlignment="Stretch"
            Background="DimGray"
            Grid.Row="1">
            <TextBlock 
                x:Name="keymapInfo"
                Margin="0 0 4 0"
                Text="{Binding Path=KeymapInfo}"/>
            <TextBlock 
                x:Name="statusMsg"
                Margin="4 0 4 0"
                Text="{Binding Path=StatusMsg}"/>
            <TextBlock 
                x:Name="systemInfo"
                Margin="4 0 4 0"
                Text="{Binding ElementName=complex, Path=Mode}"/>
        </StackPanel>
    </Grid>

</UserControl>
